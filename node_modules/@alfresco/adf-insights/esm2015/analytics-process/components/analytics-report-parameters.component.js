/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/*!
 * @license
 * Copyright 2019 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { ContentService, LogService } from '@alfresco/adf-core';
import { Component, EventEmitter, Input, Output, ViewChild, ViewEncapsulation } from '@angular/core';
import { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';
import { MatDialog } from '@angular/material';
import moment from 'moment-es6';
import { ReportQuery } from '../../diagram/models/report/reportQuery.model';
import { AnalyticsService } from '../services/analytics.service';
export class AnalyticsReportParametersComponent {
    /**
     * @param {?} analyticsService
     * @param {?} formBuilder
     * @param {?} logService
     * @param {?} contentService
     * @param {?} dialog
     */
    constructor(analyticsService, formBuilder, logService, contentService, dialog) {
        this.analyticsService = analyticsService;
        this.formBuilder = formBuilder;
        this.logService = logService;
        this.contentService = contentService;
        this.dialog = dialog;
        this.hideComponent = false;
        this.success = new EventEmitter();
        this.error = new EventEmitter();
        this.edit = new EventEmitter();
        this.formValueChanged = new EventEmitter();
        this.saveReportSuccess = new EventEmitter();
        this.deleteReportSuccess = new EventEmitter();
        this.onDropdownChanged = new EventEmitter();
        this.successReportParams = new EventEmitter();
        this.successParamOpt = new EventEmitter();
        this.isEditable = false;
        this.hideParameters = true;
        this.formValidState = false;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.dropDownSub = this.onDropdownChanged.subscribe((field) => {
            /** @type {?} */
            let paramDependOn = this.reportParameters.definition.parameters.find((p) => p.dependsOn === field.id);
            if (paramDependOn) {
                this.retrieveParameterOptions(this.reportParameters.definition.parameters, this.appId, this.reportId, field.value);
            }
        });
        this.paramOpts = this.successReportParams.subscribe((report) => {
            if (report.hasParameters()) {
                this.retrieveParameterOptions(report.definition.parameters, this.appId);
                this.generateFormGroupFromParameter(report.definition.parameters);
            }
        });
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        this.isEditable = false;
        if (this.reportForm) {
            this.reportForm.reset();
        }
        /** @type {?} */
        let reportId = changes['reportId'];
        if (reportId && reportId.currentValue) {
            this.reportId = reportId.currentValue;
            this.getReportParams(reportId.currentValue);
        }
        /** @type {?} */
        let appId = changes['appId'];
        if (appId && (appId.currentValue || appId.currentValue === null)) {
            this.getReportParams(this.reportId);
        }
    }
    /**
     * @private
     * @param {?} parameters
     * @return {?}
     */
    generateFormGroupFromParameter(parameters) {
        /** @type {?} */
        let formBuilderGroup = {};
        parameters.forEach((param) => {
            switch (param.type) {
                case 'dateRange':
                    formBuilderGroup.dateRange = new FormGroup({}, Validators.required);
                    break;
                case 'processDefinition':
                    formBuilderGroup.processDefGroup = new FormGroup({
                        processDefinitionId: new FormControl(null, Validators.required, null)
                    }, Validators.required);
                    break;
                case 'duration':
                    formBuilderGroup.durationGroup = new FormGroup({
                        duration: new FormControl(null, Validators.required, null)
                    }, Validators.required);
                    break;
                case 'dateInterval':
                    formBuilderGroup.dateIntervalGroup = new FormGroup({
                        dateRangeInterval: new FormControl(null, Validators.required, null)
                    }, Validators.required);
                    break;
                case 'boolean':
                    formBuilderGroup.typeFilteringGroup = new FormGroup({
                        typeFiltering: new FormControl(null, Validators.required, null)
                    }, Validators.required);
                    break;
                case 'task':
                    formBuilderGroup.taskGroup = new FormGroup({
                        taskName: new FormControl(null, Validators.required, null)
                    }, Validators.required);
                    break;
                case 'integer':
                    formBuilderGroup.processInstanceGroup = new FormGroup({
                        slowProcessInstanceInteger: new FormControl(null, Validators.required, null)
                    }, Validators.required);
                    break;
                case 'status':
                    formBuilderGroup.statusGroup = new FormGroup({
                        status: new FormControl(null, Validators.required, null)
                    }, Validators.required);
                    break;
                default:
                    return;
            }
        });
        this.reportForm = this.formBuilder.group(formBuilderGroup);
        this.reportForm.valueChanges.subscribe((data) => this.onValueChanged(data));
        this.reportForm.statusChanges.subscribe((data) => this.onStatusChanged(data));
    }
    /**
     * @param {?} reportId
     * @return {?}
     */
    getReportParams(reportId) {
        this.reportParamsSub = this.analyticsService.getReportParams(reportId).subscribe((res) => {
            this.reportParameters = res;
            if (this.reportParameters.hasParameters()) {
                this.successReportParams.emit(res);
            }
            else {
                this.reportForm = this.formBuilder.group({});
                this.success.emit();
            }
        }, (err) => {
            this.error.emit(err);
        });
    }
    /**
     * @private
     * @param {?} parameters
     * @param {?} appId
     * @param {?=} reportId
     * @param {?=} processDefinitionId
     * @return {?}
     */
    retrieveParameterOptions(parameters, appId, reportId, processDefinitionId) {
        parameters.forEach((param) => {
            this.analyticsService.getParamValuesByType(param.type, appId, reportId, processDefinitionId).subscribe((opts) => {
                param.options = opts;
                this.successParamOpt.emit(opts);
            }, (err) => {
                this.error.emit(err);
            });
        });
    }
    /**
     * @param {?} field
     * @return {?}
     */
    onProcessDefinitionChanges(field) {
        if (field.value) {
            this.onDropdownChanged.emit(field);
        }
    }
    /**
     * @param {?} values
     * @return {?}
     */
    submit(values) {
        this.reportParamQuery = this.convertFormValuesToReportParamQuery(values);
        this.success.emit(this.reportParamQuery);
    }
    /**
     * @param {?} values
     * @return {?}
     */
    onValueChanged(values) {
        this.formValueChanged.emit(values);
        if (this.reportForm && this.reportForm.valid) {
            this.submit(values);
        }
    }
    /**
     * @param {?} status
     * @return {?}
     */
    onStatusChanged(status) {
        if (this.reportForm && !this.reportForm.pending && this.reportForm.dirty) {
            this.formValidState = this.reportForm.valid;
        }
    }
    /**
     * @param {?} date
     * @return {?}
     */
    convertMomentDate(date) {
        return moment(date, AnalyticsReportParametersComponent.FORMAT_DATE_ACTIVITI, true)
            .format(AnalyticsReportParametersComponent.FORMAT_DATE_ACTIVITI) + 'T00:00:00.000Z';
    }
    /**
     * @return {?}
     */
    getTodayDate() {
        return moment().format(AnalyticsReportParametersComponent.FORMAT_DATE_ACTIVITI);
    }
    /**
     * @param {?} value
     * @return {?}
     */
    convertNumber(value) {
        return value != null ? parseInt(value, 10) : 0;
    }
    /**
     * @param {?} values
     * @return {?}
     */
    convertFormValuesToReportParamQuery(values) {
        /** @type {?} */
        let reportParamQuery = new ReportQuery();
        if (values.dateRange) {
            reportParamQuery.dateRange.startDate = this.convertMomentDate(values.dateRange.startDate);
            reportParamQuery.dateRange.endDate = this.convertMomentDate(values.dateRange.endDate);
        }
        if (values.statusGroup) {
            reportParamQuery.status = values.statusGroup.status;
        }
        if (values.processDefGroup) {
            reportParamQuery.processDefinitionId = values.processDefGroup.processDefinitionId;
        }
        if (values.taskGroup) {
            reportParamQuery.taskName = values.taskGroup.taskName;
        }
        if (values.durationGroup) {
            reportParamQuery.duration = values.durationGroup.duration;
        }
        if (values.dateIntervalGroup) {
            reportParamQuery.dateRangeInterval = values.dateIntervalGroup.dateRangeInterval;
        }
        if (values.processInstanceGroup) {
            reportParamQuery.slowProcessInstanceInteger = this.convertNumber(values.processInstanceGroup.slowProcessInstanceInteger);
        }
        if (values.typeFilteringGroup) {
            reportParamQuery.typeFiltering = values.typeFilteringGroup.typeFiltering;
        }
        return reportParamQuery;
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.dropDownSub.unsubscribe();
        this.paramOpts.unsubscribe();
        if (this.reportParamsSub) {
            this.reportParamsSub.unsubscribe();
        }
    }
    /**
     * @return {?}
     */
    editEnable() {
        this.isEditable = true;
    }
    /**
     * @return {?}
     */
    editDisable() {
        this.isEditable = false;
    }
    /**
     * @return {?}
     */
    editTitle() {
        this.reportParamsSub = this.analyticsService.updateReport(this.reportParameters.id, this.reportParameters.name).subscribe((res) => {
            this.editDisable();
            this.edit.emit(this.reportParameters.name);
        }, (err) => {
            this.error.emit(err);
        });
    }
    /**
     * @param {?} event
     * @return {?}
     */
    showDialog(event) {
        this.dialog.open(this.reportNameDialog, { width: '500px' });
        this.action = event;
        this.reportName = this.reportParameters.name + ' ( ' + this.getTodayDate() + ' )';
    }
    /**
     * @return {?}
     */
    closeDialog() {
        this.dialog.closeAll();
    }
    /**
     * @param {?} action
     * @param {?} reportParamQuery
     * @return {?}
     */
    performAction(action, reportParamQuery) {
        reportParamQuery.reportName = this.reportName;
        this.closeDialog();
        if (action === 'Save') {
            this.doSave(reportParamQuery);
        }
        else if (action === 'Export') {
            this.doExport(reportParamQuery);
        }
        this.resetActions();
    }
    /**
     * @return {?}
     */
    resetActions() {
        this.action = '';
        this.reportName = '';
    }
    /**
     * @return {?}
     */
    isSaveAction() {
        return this.action === 'Save';
    }
    /**
     * @param {?} paramQuery
     * @return {?}
     */
    doExport(paramQuery) {
        this.analyticsService.exportReportToCsv(this.reportId, paramQuery).subscribe((data) => {
            /** @type {?} */
            let blob = new Blob([data], { type: 'text/csv' });
            this.contentService.downloadBlob(blob, paramQuery.reportName + '.csv');
        });
    }
    /**
     * @param {?} paramQuery
     * @return {?}
     */
    doSave(paramQuery) {
        this.analyticsService.saveReport(this.reportId, paramQuery).subscribe(() => {
            this.saveReportSuccess.emit(this.reportId);
        });
    }
    /**
     * @param {?} reportId
     * @return {?}
     */
    deleteReport(reportId) {
        this.analyticsService.deleteReport(reportId).subscribe(() => {
            this.deleteReportSuccess.emit(reportId);
        }, (error) => this.logService.error(error));
    }
    /**
     * @return {?}
     */
    ngAfterContentChecked() {
        if (this.reportForm && this.reportForm.valid) {
            this.reportForm.markAsDirty();
        }
    }
    /**
     * @return {?}
     */
    toggleParameters() {
        this.hideParameters = !this.hideParameters;
    }
    /**
     * @return {?}
     */
    isParametersHide() {
        return this.hideParameters;
    }
    /**
     * @return {?}
     */
    isFormValid() {
        return this.reportForm && this.reportForm.dirty && this.reportForm.valid;
    }
}
AnalyticsReportParametersComponent.FORMAT_DATE_ACTIVITI = 'YYYY-MM-DD';
AnalyticsReportParametersComponent.decorators = [
    { type: Component, args: [{
                selector: 'adf-analytics-report-parameters',
                template: "<div [class.adf-hide]=\"hideComponent\">\n    <div class=\"adf-report-report-container\">\n        <div *ngIf=\"reportParameters\">\n            <form [formGroup]=\"reportForm\" novalidate>\n                <adf-toolbar>\n                    <adf-toolbar-title class=\"adf-report-title-container\">\n                        <div *ngIf=\"isEditable\">\n                            <mat-form-field class=\"adf-full-width-input\">\n                                <input\n                                    matInput\n                                    type=\"text\"\n                                    class=\"adf-edit-report-title\"\n                                    id=\"reportName\"\n                                    autofocus\n                                    data-automation-id=\"reportName\"\n                                    [value]=\"reportParameters.name\"\n                                    (input)=\"reportParameters.name=$event.target.value\"\n                                    (blur)=\"editTitle()\"\n                                    (keyup.enter)=\"editTitle()\"\n                                />\n                            </mat-form-field>\n                        </div>\n                        <div class=\"adf-report-title\" *ngIf=\"!isEditable\" (click)=\"editEnable()\">\n                            <mat-icon class=\"adf-report-icon\" >mode_edit</mat-icon>\n                            <h4>{{reportParameters.name}}</h4>\n                        </div>\n                    </adf-toolbar-title>\n                    <adf-buttons-action-menu *ngIf=\"!isEditable\">\n                        <button mat-menu-item (click)=\"toggleParameters()\" id=\"\">\n                            <mat-icon>settings</mat-icon><span>{{ 'ANALYTICS.MESSAGES.ICON-SETTING' | translate }}</span>\n                        </button>\n                        <button mat-menu-item (click)=\"deleteReport(reportId)\" id=\"delete-button\">\n                            <mat-icon>delete</mat-icon><span>{{ 'ANALYTICS.MESSAGES.ICON-DELETE' | translate }}</span>\n                        </button>\n                        <div *ngIf=\"isFormValid()\">\n                            <button mat-menu-item (click)=\"showDialog('Export')\" id=\"export-button\">\n                                <mat-icon>file_download</mat-icon><span>{{ 'ANALYTICS.MESSAGES.ICON-EXPORT-CSV' | translate }}</span>\n                            </button>\n                            <button mat-menu-item (click)=\"showDialog('Save')\" id=\"save-button\">\n                                <mat-icon>save</mat-icon><span>{{ 'ANALYTICS.MESSAGES.ICON-SAVE' | translate }}</span>\n                            </button>\n                        </div>\n                    </adf-buttons-action-menu>\n                </adf-toolbar>\n                <div *ngFor=\"let field of reportParameters.definition.parameters\"\n                        [class.adf-is-hide]=\"isParametersHide()\">\n                    <div [ngSwitch]=\"field.type\">\n                        <div *ngSwitchCase=\"'integer'\">\n                            <br>\n                            <analytics-number-widget [field]=\"field\" [group]=\"reportForm.controls.processInstanceGroup\"\n                                            [controllerName]=\"'slowProcessInstanceInteger'\"\n                                            [required]=\"true\"></analytics-number-widget>\n                        </div>\n                        <div *ngSwitchCase=\"'duration'\">\n                            <br>\n                            <duration-widget [field]=\"field\" [group]=\"reportForm.controls.durationGroup\"\n                                                [controllerName]=\"'duration'\"></duration-widget>\n                        </div>\n                        <div *ngSwitchCase=\"'boolean'\">\n                            <br>\n                            <analytics-checkbox-widget [field]=\"field\" [group]=\"reportForm.controls.typeFilteringGroup\"\n                                                [controllerName]=\"'typeFiltering'\"></analytics-checkbox-widget>\n                        </div>\n                        <div *ngSwitchCase=\"'status'\">\n                            <br>\n                            <analytics-dropdown-widget [field]=\"field\" [group]=\"reportForm.controls.statusGroup\"\n                                                [controllerName]=\"'status'\"\n                                                [required]=\"true\"></analytics-dropdown-widget>\n                        </div>\n                        <div *ngSwitchCase=\"'processDefinition'\">\n                            <br>\n                            <analytics-dropdown-widget [field]=\"field\" [group]=\"reportForm.controls.processDefGroup\"\n                                                [controllerName]=\"'processDefinitionId'\"\n                                                [required]=\"true\"\n                                                (fieldChanged)=\"onProcessDefinitionChanges(field)\"></analytics-dropdown-widget>\n                        </div>\n                        <div *ngSwitchCase=\"'task'\">\n                            <br>\n                            <analytics-dropdown-widget [field]=\"field\" [group]=\"reportForm.controls.taskGroup\"\n                                                [controllerName]=\"'taskName'\"\n                                                [required]=\"true\"></analytics-dropdown-widget>\n                        </div>\n                        <div *ngSwitchCase=\"'dateRange'\">\n                            <br>\n                            <adf-date-range-widget [field]=\"field\"\n                                                    [group]=\"reportForm.controls.dateRange\"></adf-date-range-widget>\n                        </div>\n                        <div *ngSwitchCase=\"'dateInterval'\">\n                            <br>\n                            <analytics-dropdown-widget [field]=\"field\" [group]=\"reportForm.controls.dateIntervalGroup\"\n                                                [controllerName]=\"'dateRangeInterval'\"\n                                                [required]=\"true\" [showDefaultOption]=\"false\"></analytics-dropdown-widget>\n                        </div>\n                        <div *ngSwitchDefault>\n                            <span>{{'ANALYTICS.MESSAGES.UNKNOWN-WIDGET-TYPE' | translate}}: {{field.type}}</span>\n                        </div>\n                    </div>\n                </div>\n                <ng-template #reportNameDialog>\n                    <div id=\"report-dialog\" class=\"adf-report-dialog\">\n                        <h5 matDialogTitle id=\"report-dialog-title\">{{action}} report</h5>\n                        <div mat-dialog-content>\n                            <div *ngIf=\"isSaveAction()\" id=\"save-title-submessage\" class=\"adf-export-message\">\n                                {{'DIALOG.SAVE_MESSAGE' | translate}}\n                            </div>\n                            <div class=\"adf-save-export-input\">\n                                <mat-form-field class=\"adf-example-full-width\" floatPlaceholder=\"always\">\n                                    <input matInput\n                                        type=\"text\"\n                                        id=\"repName\"\n                                        placeholder=\"Report Name\"\n                                        [value]=\"reportName\"\n                                        [(ngModel)]=\"reportName\"\n                                        [ngModelOptions]=\"{standalone: true}\">\n                                </mat-form-field>\n                            </div>\n                        </div>\n                        <div mat-dialog-actions>\n                            <button mat-button\n                                color=\"accent\"\n                                type=\"button\"\n                                id=\"close-dialog-button\"\n                                (click)=\"closeDialog()\">Close</button>\n                            <button mat-button\n                                color=\"primary\"\n                                type=\"button\"\n                                id=\"action-dialog-button\"\n                                (click)=\"performAction(action, reportParamQuery)\">{{action}}</button>\n                        </div>\n                    </div>\n                </ng-template>\n            </form>\n        </div>\n    </div>\n</div>\n",
                encapsulation: ViewEncapsulation.None,
                styles: [""]
            }] }
];
/** @nocollapse */
AnalyticsReportParametersComponent.ctorParameters = () => [
    { type: AnalyticsService },
    { type: FormBuilder },
    { type: LogService },
    { type: ContentService },
    { type: MatDialog }
];
AnalyticsReportParametersComponent.propDecorators = {
    appId: [{ type: Input }],
    reportId: [{ type: Input }],
    hideComponent: [{ type: Input }],
    success: [{ type: Output }],
    error: [{ type: Output }],
    edit: [{ type: Output }],
    formValueChanged: [{ type: Output }],
    saveReportSuccess: [{ type: Output }],
    deleteReportSuccess: [{ type: Output }],
    reportNameDialog: [{ type: ViewChild, args: ['reportNameDialog',] }]
};
if (false) {
    /** @type {?} */
    AnalyticsReportParametersComponent.FORMAT_DATE_ACTIVITI;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.appId;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.reportId;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.hideComponent;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.success;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.error;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.edit;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.formValueChanged;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.saveReportSuccess;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.deleteReportSuccess;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.reportNameDialog;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.onDropdownChanged;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.successReportParams;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.successParamOpt;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.reportParameters;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.reportForm;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.action;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.isEditable;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.reportName;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.dropDownSub;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.reportParamsSub;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.paramOpts;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.reportParamQuery;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.hideParameters;
    /** @type {?} */
    AnalyticsReportParametersComponent.prototype.formValidState;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.analyticsService;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.formBuilder;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.logService;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.contentService;
    /**
     * @type {?}
     * @private
     */
    AnalyticsReportParametersComponent.prototype.dialog;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5hbHl0aWNzLXJlcG9ydC1wYXJhbWV0ZXJzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BhbGZyZXNjby9hZGYtaW5zaWdodHMvIiwic291cmNlcyI6WyJhbmFseXRpY3MtcHJvY2Vzcy9jb21wb25lbnRzL2FuYWx5dGljcy1yZXBvcnQtcGFyYW1ldGVycy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkEsT0FBTyxFQUFFLGNBQWMsRUFBRSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNoRSxPQUFPLEVBRUgsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBSUwsTUFBTSxFQUVOLFNBQVMsRUFDVCxpQkFBaUIsRUFDcEIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2pGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUM5QyxPQUFPLE1BQU0sTUFBTSxZQUFZLENBQUM7QUFJaEMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLCtDQUErQyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBUWpFLE1BQU0sT0FBTyxrQ0FBa0M7Ozs7Ozs7O0lBeUQzQyxZQUFvQixnQkFBa0MsRUFDbEMsV0FBd0IsRUFDeEIsVUFBc0IsRUFDdEIsY0FBOEIsRUFDOUIsTUFBaUI7UUFKakIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQUNsQyxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3RCLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQUM5QixXQUFNLEdBQU4sTUFBTSxDQUFXO1FBbERyQyxrQkFBYSxHQUFZLEtBQUssQ0FBQztRQUcvQixZQUFPLEdBQUcsSUFB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LHlEQUFnQzs7Ozs7SUFDaEMsd0RBQThCOzs7OztJQUM5Qiw0REFBc0M7Ozs7O0lBQ3RDLG9EQUF5QiIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbnRlbnRTZXJ2aWNlLCBMb2dTZXJ2aWNlIH0gZnJvbSAnQGFsZnJlc2NvL2FkZi1jb3JlJztcbmltcG9ydCB7XG4gICAgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcbiAgICBDb21wb25lbnQsXG4gICAgRXZlbnRFbWl0dGVyLFxuICAgIElucHV0LFxuICAgIE9uQ2hhbmdlcyxcbiAgICBPbkRlc3Ryb3ksXG4gICAgT25Jbml0LFxuICAgIE91dHB1dCxcbiAgICBTaW1wbGVDaGFuZ2VzLFxuICAgIFZpZXdDaGlsZCxcbiAgICBWaWV3RW5jYXBzdWxhdGlvblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1CdWlsZGVyLCBGb3JtQ29udHJvbCwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgTWF0RGlhbG9nIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQtZXM2JztcbmltcG9ydCB7IFBhcmFtZXRlclZhbHVlTW9kZWwgfSBmcm9tICcuLi8uLi9kaWFncmFtL21vZGVscy9yZXBvcnQvcGFyYW1ldGVyVmFsdWUubW9kZWwnO1xuaW1wb3J0IHsgUmVwb3J0UGFyYW1ldGVyRGV0YWlsc01vZGVsIH0gZnJvbSAnLi4vLi4vZGlhZ3JhbS9tb2RlbHMvcmVwb3J0L3JlcG9ydFBhcmFtZXRlckRldGFpbHMubW9kZWwnO1xuaW1wb3J0IHsgUmVwb3J0UGFyYW1ldGVyc01vZGVsIH0gZnJvbSAnLi4vLi4vZGlhZ3JhbS9tb2RlbHMvcmVwb3J0L3JlcG9ydFBhcmFtZXRlcnMubW9kZWwnO1xuaW1wb3J0IHsgUmVwb3J0UXVlcnkgfSBmcm9tICcuLi8uLi9kaWFncmFtL21vZGVscy9yZXBvcnQvcmVwb3J0UXVlcnkubW9kZWwnO1xuaW1wb3J0IHsgQW5hbHl0aWNzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2FuYWx5dGljcy5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtYW5hbHl0aWNzLXJlcG9ydC1wYXJhbWV0ZXJzJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vYW5hbHl0aWNzLXJlcG9ydC1wYXJhbWV0ZXJzLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9hbmFseXRpY3MtcmVwb3J0LXBhcmFtZXRlcnMuY29tcG9uZW50LnNjc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEFuYWx5dGljc1JlcG9ydFBhcmFtZXRlcnNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBBZnRlckNvbnRlbnRDaGVja2VkIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgRk9STUFUX0RBVEVfQUNUSVZJVEk6IHN0cmluZyA9ICdZWVlZLU1NLUREJztcblxuICAgIEBJbnB1dCgpXG4gICAgYXBwSWQ6IG51bWJlcjtcblxuICAgIEBJbnB1dCgpXG4gICAgcmVwb3J0SWQ6IHN0cmluZztcblxuICAgIEBJbnB1dCgpXG4gICAgaGlkZUNvbXBvbmVudDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQE91dHB1dCgpXG4gICAgc3VjY2VzcyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIGVycm9yID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgQE91dHB1dCgpXG4gICAgZWRpdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIGZvcm1WYWx1ZUNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBAT3V0cHV0KClcbiAgICBzYXZlUmVwb3J0U3VjY2VzcyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIGRlbGV0ZVJlcG9ydFN1Y2Nlc3MgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBAVmlld0NoaWxkKCdyZXBvcnROYW1lRGlhbG9nJylcbiAgICByZXBvcnROYW1lRGlhbG9nOiBhbnk7XG5cbiAgICBvbkRyb3Bkb3duQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIHN1Y2Nlc3NSZXBvcnRQYXJhbXMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBzdWNjZXNzUGFyYW1PcHQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICByZXBvcnRQYXJhbWV0ZXJzOiBSZXBvcnRQYXJhbWV0ZXJzTW9kZWw7XG5cbiAgICByZXBvcnRGb3JtOiBGb3JtR3JvdXA7XG5cbiAgICBhY3Rpb246IHN0cmluZztcblxuICAgIGlzRWRpdGFibGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHJlcG9ydE5hbWU6IHN0cmluZztcblxuICAgIHByaXZhdGUgZHJvcERvd25TdWI7XG4gICAgcHJpdmF0ZSByZXBvcnRQYXJhbXNTdWI7XG4gICAgcHJpdmF0ZSBwYXJhbU9wdHM7XG4gICAgcmVwb3J0UGFyYW1RdWVyeTogUmVwb3J0UXVlcnk7XG4gICAgcHJpdmF0ZSBoaWRlUGFyYW1ldGVyczogYm9vbGVhbiA9IHRydWU7XG4gICAgZm9ybVZhbGlkU3RhdGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYW5hbHl0aWNzU2VydmljZTogQW5hbHl0aWNzU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcixcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBjb250ZW50U2VydmljZTogQ29udGVudFNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBkaWFsb2c6IE1hdERpYWxvZykge1xuXG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuZHJvcERvd25TdWIgPSB0aGlzLm9uRHJvcGRvd25DaGFuZ2VkLnN1YnNjcmliZSgoZmllbGQpID0+IHtcbiAgICAgICAgICAgIGxldCBwYXJhbURlcGVuZE9uOiBSZXBvcnRQYXJhbWV0ZXJEZXRhaWxzTW9kZWwgPSB0aGlzLnJlcG9ydFBhcmFtZXRlcnMuZGVmaW5pdGlvbi5wYXJhbWV0ZXJzLmZpbmQoKHApID0+IHAuZGVwZW5kc09uID09PSBmaWVsZC5pZCk7XG4gICAgICAgICAgICBpZiAocGFyYW1EZXBlbmRPbikge1xuICAgICAgICAgICAgICAgIHRoaXMucmV0cmlldmVQYXJhbWV0ZXJPcHRpb25zKHRoaXMucmVwb3J0UGFyYW1ldGVycy5kZWZpbml0aW9uLnBhcmFtZXRlcnMsIHRoaXMuYXBwSWQsIHRoaXMucmVwb3J0SWQsIGZpZWxkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wYXJhbU9wdHMgPSB0aGlzLnN1Y2Nlc3NSZXBvcnRQYXJhbXMuc3Vic2NyaWJlKChyZXBvcnQ6IFJlcG9ydFBhcmFtZXRlcnNNb2RlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlcG9ydC5oYXNQYXJhbWV0ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJldHJpZXZlUGFyYW1ldGVyT3B0aW9ucyhyZXBvcnQuZGVmaW5pdGlvbi5wYXJhbWV0ZXJzLCB0aGlzLmFwcElkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlRm9ybUdyb3VwRnJvbVBhcmFtZXRlcihyZXBvcnQuZGVmaW5pdGlvbi5wYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgICAgICB0aGlzLmlzRWRpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucmVwb3J0Rm9ybSkge1xuICAgICAgICAgICAgdGhpcy5yZXBvcnRGb3JtLnJlc2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVwb3J0SWQgPSBjaGFuZ2VzWydyZXBvcnRJZCddO1xuICAgICAgICBpZiAocmVwb3J0SWQgJiYgcmVwb3J0SWQuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydElkID0gcmVwb3J0SWQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5nZXRSZXBvcnRQYXJhbXMocmVwb3J0SWQuY3VycmVudFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhcHBJZCA9IGNoYW5nZXNbJ2FwcElkJ107XG4gICAgICAgIGlmIChhcHBJZCAmJiAoYXBwSWQuY3VycmVudFZhbHVlIHx8IGFwcElkLmN1cnJlbnRWYWx1ZSA9PT0gbnVsbCkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0UmVwb3J0UGFyYW1zKHRoaXMucmVwb3J0SWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUZvcm1Hcm91cEZyb21QYXJhbWV0ZXIocGFyYW1ldGVyczogUmVwb3J0UGFyYW1ldGVyRGV0YWlsc01vZGVsW10pIHtcbiAgICAgICAgbGV0IGZvcm1CdWlsZGVyR3JvdXA6IGFueSA9IHt9O1xuICAgICAgICBwYXJhbWV0ZXJzLmZvckVhY2goKHBhcmFtOiBSZXBvcnRQYXJhbWV0ZXJEZXRhaWxzTW9kZWwpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAocGFyYW0udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGVSYW5nZSc6XG4gICAgICAgICAgICAgICAgICAgIGZvcm1CdWlsZGVyR3JvdXAuZGF0ZVJhbmdlID0gbmV3IEZvcm1Hcm91cCh7fSwgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb2Nlc3NEZWZpbml0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgZm9ybUJ1aWxkZXJHcm91cC5wcm9jZXNzRGVmR3JvdXAgPSBuZXcgRm9ybUdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6IG5ldyBGb3JtQ29udHJvbChudWxsLCBWYWxpZGF0b3JzLnJlcXVpcmVkLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICB9LCBWYWxpZGF0b3JzLnJlcXVpcmVkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZHVyYXRpb24nOlxuICAgICAgICAgICAgICAgICAgICBmb3JtQnVpbGRlckdyb3VwLmR1cmF0aW9uR3JvdXAgPSBuZXcgRm9ybUdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBuZXcgRm9ybUNvbnRyb2wobnVsbCwgVmFsaWRhdG9ycy5yZXF1aXJlZCwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgfSwgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGVJbnRlcnZhbCc6XG4gICAgICAgICAgICAgICAgICAgIGZvcm1CdWlsZGVyR3JvdXAuZGF0ZUludGVydmFsR3JvdXAgPSBuZXcgRm9ybUdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVSYW5nZUludGVydmFsOiBuZXcgRm9ybUNvbnRyb2wobnVsbCwgVmFsaWRhdG9ycy5yZXF1aXJlZCwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgfSwgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICBmb3JtQnVpbGRlckdyb3VwLnR5cGVGaWx0ZXJpbmdHcm91cCA9IG5ldyBGb3JtR3JvdXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUZpbHRlcmluZzogbmV3IEZvcm1Db250cm9sKG51bGwsIFZhbGlkYXRvcnMucmVxdWlyZWQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgIH0sIFZhbGlkYXRvcnMucmVxdWlyZWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0YXNrJzpcbiAgICAgICAgICAgICAgICAgICAgZm9ybUJ1aWxkZXJHcm91cC50YXNrR3JvdXAgPSBuZXcgRm9ybUdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tOYW1lOiBuZXcgRm9ybUNvbnRyb2wobnVsbCwgVmFsaWRhdG9ycy5yZXF1aXJlZCwgbnVsbClcbiAgICAgICAgICAgICAgICAgICAgfSwgVmFsaWRhdG9ycy5yZXF1aXJlZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgICAgICAgICAgICAgICBmb3JtQnVpbGRlckdyb3VwLnByb2Nlc3NJbnN0YW5jZUdyb3VwID0gbmV3IEZvcm1Hcm91cCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbG93UHJvY2Vzc0luc3RhbmNlSW50ZWdlcjogbmV3IEZvcm1Db250cm9sKG51bGwsIFZhbGlkYXRvcnMucmVxdWlyZWQsIG51bGwpXG4gICAgICAgICAgICAgICAgICAgIH0sIFZhbGlkYXRvcnMucmVxdWlyZWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdGF0dXMnOlxuICAgICAgICAgICAgICAgICAgICBmb3JtQnVpbGRlckdyb3VwLnN0YXR1c0dyb3VwID0gbmV3IEZvcm1Hcm91cCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IG5ldyBGb3JtQ29udHJvbChudWxsLCBWYWxpZGF0b3JzLnJlcXVpcmVkLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICB9LCBWYWxpZGF0b3JzLnJlcXVpcmVkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZXBvcnRGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cChmb3JtQnVpbGRlckdyb3VwKTtcbiAgICAgICAgdGhpcy5yZXBvcnRGb3JtLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKGRhdGEpID0+IHRoaXMub25WYWx1ZUNoYW5nZWQoZGF0YSkpO1xuICAgICAgICB0aGlzLnJlcG9ydEZvcm0uc3RhdHVzQ2hhbmdlcy5zdWJzY3JpYmUoKGRhdGEpID0+IHRoaXMub25TdGF0dXNDaGFuZ2VkKGRhdGEpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmVwb3J0UGFyYW1zKHJlcG9ydElkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5yZXBvcnRQYXJhbXNTdWIgPSB0aGlzLmFuYWx5dGljc1NlcnZpY2UuZ2V0UmVwb3J0UGFyYW1zKHJlcG9ydElkKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAocmVzOiBSZXBvcnRQYXJhbWV0ZXJzTW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFBhcmFtZXRlcnMgPSByZXM7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVwb3J0UGFyYW1ldGVycy5oYXNQYXJhbWV0ZXJzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzUmVwb3J0UGFyYW1zLmVtaXQocmVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydEZvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzLmVtaXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvci5lbWl0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXRyaWV2ZVBhcmFtZXRlck9wdGlvbnMocGFyYW1ldGVyczogUmVwb3J0UGFyYW1ldGVyRGV0YWlsc01vZGVsW10sIGFwcElkOiBudW1iZXIsIHJlcG9ydElkPzogc3RyaW5nLCBwcm9jZXNzRGVmaW5pdGlvbklkPzogc3RyaW5nKSB7XG4gICAgICAgIHBhcmFtZXRlcnMuZm9yRWFjaCgocGFyYW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZS5nZXRQYXJhbVZhbHVlc0J5VHlwZShwYXJhbS50eXBlLCBhcHBJZCwgcmVwb3J0SWQsIHByb2Nlc3NEZWZpbml0aW9uSWQpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAob3B0czogUGFyYW1ldGVyVmFsdWVNb2RlbFtdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLm9wdGlvbnMgPSBvcHRzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3NQYXJhbU9wdC5lbWl0KG9wdHMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1pdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUHJvY2Vzc0RlZmluaXRpb25DaGFuZ2VzKGZpZWxkOiBhbnkpIHtcbiAgICAgICAgaWYgKGZpZWxkLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm9uRHJvcGRvd25DaGFuZ2VkLmVtaXQoZmllbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHN1Ym1pdCh2YWx1ZXM6IGFueSkge1xuICAgICAgICB0aGlzLnJlcG9ydFBhcmFtUXVlcnkgPSB0aGlzLmNvbnZlcnRGb3JtVmFsdWVzVG9SZXBvcnRQYXJhbVF1ZXJ5KHZhbHVlcyk7XG4gICAgICAgIHRoaXMuc3VjY2Vzcy5lbWl0KHRoaXMucmVwb3J0UGFyYW1RdWVyeSk7XG4gICAgfVxuXG4gICAgb25WYWx1ZUNoYW5nZWQodmFsdWVzOiBhbnkpIHtcbiAgICAgICAgdGhpcy5mb3JtVmFsdWVDaGFuZ2VkLmVtaXQodmFsdWVzKTtcbiAgICAgICAgaWYgKHRoaXMucmVwb3J0Rm9ybSAmJiB0aGlzLnJlcG9ydEZvcm0udmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3VibWl0KHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblN0YXR1c0NoYW5nZWQoc3RhdHVzOiBhbnkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVwb3J0Rm9ybSAmJiAhdGhpcy5yZXBvcnRGb3JtLnBlbmRpbmcgJiYgdGhpcy5yZXBvcnRGb3JtLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1WYWxpZFN0YXRlID0gdGhpcy5yZXBvcnRGb3JtLnZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGNvbnZlcnRNb21lbnREYXRlKGRhdGU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbW9tZW50KGRhdGUsIEFuYWx5dGljc1JlcG9ydFBhcmFtZXRlcnNDb21wb25lbnQuRk9STUFUX0RBVEVfQUNUSVZJVEksIHRydWUpXG4gICAgICAgICAgICAuZm9ybWF0KEFuYWx5dGljc1JlcG9ydFBhcmFtZXRlcnNDb21wb25lbnQuRk9STUFUX0RBVEVfQUNUSVZJVEkpICsgJ1QwMDowMDowMC4wMDBaJztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VG9kYXlEYXRlKCkge1xuICAgICAgICByZXR1cm4gbW9tZW50KCkuZm9ybWF0KEFuYWx5dGljc1JlcG9ydFBhcmFtZXRlcnNDb21wb25lbnQuRk9STUFUX0RBVEVfQUNUSVZJVEkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjb252ZXJ0TnVtYmVyKHZhbHVlOiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHBhcnNlSW50KHZhbHVlLCAxMCkgOiAwO1xuICAgIH1cblxuICAgIGNvbnZlcnRGb3JtVmFsdWVzVG9SZXBvcnRQYXJhbVF1ZXJ5KHZhbHVlczogYW55KTogUmVwb3J0UXVlcnkge1xuICAgICAgICBsZXQgcmVwb3J0UGFyYW1RdWVyeTogUmVwb3J0UXVlcnkgPSBuZXcgUmVwb3J0UXVlcnkoKTtcbiAgICAgICAgaWYgKHZhbHVlcy5kYXRlUmFuZ2UpIHtcbiAgICAgICAgICAgIHJlcG9ydFBhcmFtUXVlcnkuZGF0ZVJhbmdlLnN0YXJ0RGF0ZSA9IHRoaXMuY29udmVydE1vbWVudERhdGUodmFsdWVzLmRhdGVSYW5nZS5zdGFydERhdGUpO1xuICAgICAgICAgICAgcmVwb3J0UGFyYW1RdWVyeS5kYXRlUmFuZ2UuZW5kRGF0ZSA9IHRoaXMuY29udmVydE1vbWVudERhdGUodmFsdWVzLmRhdGVSYW5nZS5lbmREYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWVzLnN0YXR1c0dyb3VwKSB7XG4gICAgICAgICAgICByZXBvcnRQYXJhbVF1ZXJ5LnN0YXR1cyA9IHZhbHVlcy5zdGF0dXNHcm91cC5zdGF0dXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlcy5wcm9jZXNzRGVmR3JvdXApIHtcbiAgICAgICAgICAgIHJlcG9ydFBhcmFtUXVlcnkucHJvY2Vzc0RlZmluaXRpb25JZCA9IHZhbHVlcy5wcm9jZXNzRGVmR3JvdXAucHJvY2Vzc0RlZmluaXRpb25JZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWVzLnRhc2tHcm91cCkge1xuICAgICAgICAgICAgcmVwb3J0UGFyYW1RdWVyeS50YXNrTmFtZSA9IHZhbHVlcy50YXNrR3JvdXAudGFza05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlcy5kdXJhdGlvbkdyb3VwKSB7XG4gICAgICAgICAgICByZXBvcnRQYXJhbVF1ZXJ5LmR1cmF0aW9uID0gdmFsdWVzLmR1cmF0aW9uR3JvdXAuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlcy5kYXRlSW50ZXJ2YWxHcm91cCkge1xuICAgICAgICAgICAgcmVwb3J0UGFyYW1RdWVyeS5kYXRlUmFuZ2VJbnRlcnZhbCA9IHZhbHVlcy5kYXRlSW50ZXJ2YWxHcm91cC5kYXRlUmFuZ2VJbnRlcnZhbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWVzLnByb2Nlc3NJbnN0YW5jZUdyb3VwKSB7XG4gICAgICAgICAgICByZXBvcnRQYXJhbVF1ZXJ5LnNsb3dQcm9jZXNzSW5zdGFuY2VJbnRlZ2VyID0gdGhpcy5jb252ZXJ0TnVtYmVyKHZhbHVlcy5wcm9jZXNzSW5zdGFuY2VHcm91cC5zbG93UHJvY2Vzc0luc3RhbmNlSW50ZWdlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlcy50eXBlRmlsdGVyaW5nR3JvdXApIHtcbiAgICAgICAgICAgIHJlcG9ydFBhcmFtUXVlcnkudHlwZUZpbHRlcmluZyA9IHZhbHVlcy50eXBlRmlsdGVyaW5nR3JvdXAudHlwZUZpbHRlcmluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVwb3J0UGFyYW1RdWVyeTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5kcm9wRG93blN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLnBhcmFtT3B0cy51bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAodGhpcy5yZXBvcnRQYXJhbXNTdWIpIHtcbiAgICAgICAgICAgIHRoaXMucmVwb3J0UGFyYW1zU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZWRpdEVuYWJsZSgpIHtcbiAgICAgICAgdGhpcy5pc0VkaXRhYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZWRpdERpc2FibGUoKSB7XG4gICAgICAgIHRoaXMuaXNFZGl0YWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBlZGl0VGl0bGUoKSB7XG4gICAgICAgIHRoaXMucmVwb3J0UGFyYW1zU3ViID0gdGhpcy5hbmFseXRpY3NTZXJ2aWNlLnVwZGF0ZVJlcG9ydCh0aGlzLnJlcG9ydFBhcmFtZXRlcnMuaWQsIHRoaXMucmVwb3J0UGFyYW1ldGVycy5uYW1lKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAocmVzOiBSZXBvcnRQYXJhbWV0ZXJzTW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXREaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0LmVtaXQodGhpcy5yZXBvcnRQYXJhbWV0ZXJzLm5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChlcnI6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1pdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzaG93RGlhbG9nKGV2ZW50OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5kaWFsb2cub3Blbih0aGlzLnJlcG9ydE5hbWVEaWFsb2csIHsgd2lkdGg6ICc1MDBweCcgfSk7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gZXZlbnQ7XG4gICAgICAgIHRoaXMucmVwb3J0TmFtZSA9IHRoaXMucmVwb3J0UGFyYW1ldGVycy5uYW1lICsgJyAoICcgKyB0aGlzLmdldFRvZGF5RGF0ZSgpICsgJyApJztcbiAgICB9XG5cbiAgICBjbG9zZURpYWxvZygpIHtcbiAgICAgICAgdGhpcy5kaWFsb2cuY2xvc2VBbGwoKTtcbiAgICB9XG5cbiAgICBwZXJmb3JtQWN0aW9uKGFjdGlvbjogc3RyaW5nLCByZXBvcnRQYXJhbVF1ZXJ5OiBSZXBvcnRRdWVyeSkge1xuICAgICAgICByZXBvcnRQYXJhbVF1ZXJ5LnJlcG9ydE5hbWUgPSB0aGlzLnJlcG9ydE5hbWU7XG4gICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ1NhdmUnKSB7XG4gICAgICAgICAgICB0aGlzLmRvU2F2ZShyZXBvcnRQYXJhbVF1ZXJ5KTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdFeHBvcnQnKSB7XG4gICAgICAgICAgICB0aGlzLmRvRXhwb3J0KHJlcG9ydFBhcmFtUXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRBY3Rpb25zKCk7XG4gICAgfVxuXG4gICAgcmVzZXRBY3Rpb25zKCkge1xuICAgICAgICB0aGlzLmFjdGlvbiA9ICcnO1xuICAgICAgICB0aGlzLnJlcG9ydE5hbWUgPSAnJztcbiAgICB9XG5cbiAgICBpc1NhdmVBY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbiA9PT0gJ1NhdmUnO1xuICAgIH1cblxuICAgIGRvRXhwb3J0KHBhcmFtUXVlcnk6IFJlcG9ydFF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZS5leHBvcnRSZXBvcnRUb0Nzdih0aGlzLnJlcG9ydElkLCBwYXJhbVF1ZXJ5KS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGJsb2I6IEJsb2IgPSBuZXcgQmxvYihbZGF0YV0sIHsgdHlwZTogJ3RleHQvY3N2JyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRTZXJ2aWNlLmRvd25sb2FkQmxvYihibG9iLCBwYXJhbVF1ZXJ5LnJlcG9ydE5hbWUgKyAnLmNzdicpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZG9TYXZlKHBhcmFtUXVlcnk6IFJlcG9ydFF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZS5zYXZlUmVwb3J0KHRoaXMucmVwb3J0SWQsIHBhcmFtUXVlcnkpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNhdmVSZXBvcnRTdWNjZXNzLmVtaXQodGhpcy5yZXBvcnRJZCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRlbGV0ZVJlcG9ydChyZXBvcnRJZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZS5kZWxldGVSZXBvcnQocmVwb3J0SWQpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZVJlcG9ydFN1Y2Nlc3MuZW1pdChyZXBvcnRJZCk7XG4gICAgICAgIH0sIChlcnJvcikgPT4gdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKSk7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRDaGVja2VkKCkge1xuICAgICAgICBpZiAodGhpcy5yZXBvcnRGb3JtICYmIHRoaXMucmVwb3J0Rm9ybS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5yZXBvcnRGb3JtLm1hcmtBc0RpcnR5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b2dnbGVQYXJhbWV0ZXJzKCkge1xuICAgICAgICB0aGlzLmhpZGVQYXJhbWV0ZXJzID0gIXRoaXMuaGlkZVBhcmFtZXRlcnM7XG4gICAgfVxuXG4gICAgaXNQYXJhbWV0ZXJzSGlkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZVBhcmFtZXRlcnM7XG4gICAgfVxuXG4gICAgaXNGb3JtVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcG9ydEZvcm0gJiYgdGhpcy5yZXBvcnRGb3JtLmRpcnR5ICYmIHRoaXMucmVwb3J0Rm9ybS52YWxpZDtcbiAgICB9XG59XG4iXX0=